"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[775],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},c="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=d(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(i,".").concat(m)]||c[m]||s[m]||l;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=m;var d={};for(var i in t)hasOwnProperty.call(t,i)&&(d[i]=t[i]);d.originalType=e,d[c]="string"==typeof e?e:r,o[1]=d;for(var p=2;p<l;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9012:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>s,frontMatter:()=>l,metadata:()=>d,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const l={},o="UdonSharp",d={unversionedId:"worlds/udon/udonsharp/documentation/udonsharp",id:"worlds/udon/udonsharp/documentation/udonsharp",title:"UdonSharp",description:"UdonSharp\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u5c5e\u6027",source:"@site/docs/worlds/udon/udonsharp/documentation/udonsharp.md",sourceDirName:"worlds/udon/udonsharp/documentation",slug:"/worlds/udon/udonsharp/documentation/udonsharp",permalink:"/creator-docs_ja/worlds/udon/udonsharp/documentation/udonsharp",draft:!1,editUrl:"https://github.com/Horo5502/creator-docs_ja/docs/worlds/udon/udonsharp/documentation/udonsharp.md",tags:[],version:"current",lastUpdatedAt:1703850434,formattedLastUpdatedAt:"2023\u5e7412\u670829\u65e5",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"UdonSharp",permalink:"/creator-docs_ja/worlds/udon/udonsharp/"},next:{title:"VRChat API",permalink:"/creator-docs_ja/worlds/udon/udonsharp/documentation/vrchat-api"}},i={},p=[{value:"UdonSynced",id:"udonsynced",level:2},{value:"\u4f8b",id:"\u4f8b",level:3},{value:"UdonSyncMode",id:"udonsyncmode",level:3},{value:"UdonBehaviourSyncMode",id:"udonbehavioursyncmode",level:2},{value:"\u4f8b",id:"\u4f8b-1",level:3},{value:"BehaviourSyncMode",id:"behavioursyncmode",level:3},{value:"DefaultExecutionOrder",id:"defaultexecutionorder",level:2},{value:"Example",id:"example",level:3},{value:"RecursiveMethod",id:"recursivemethod",level:2},{value:"Example",id:"example-1",level:3},{value:"FieldChangeCallback",id:"fieldchangecallback",level:2},{value:"Example",id:"example-2",level:3}],u={toc:p},c="wrapper";function s(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"udonsharp"},"UdonSharp"),(0,r.kt)("h1",{id:"\u5c5e\u6027"},"\u5c5e\u6027"),(0,r.kt)("p",null,"UdonSharp\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u5c5e\u6027"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/HeaderAttribute.html"},"Header")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/HideInInspector.html"},"HideInInspector")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.microsoft.com/dotnet/api/system.nonserializedattribute"},"NonSerialized"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/SerializeField.html"},"SerializeField")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/SpaceAttribute.html"},"Space")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/TooltipAttribute.html"},"Tooltip"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/ColorUsageAttribute.html"},"ColorUsage")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/GradientUsageAttribute.html"},"GradientUsage")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/ScriptReference/TextAreaAttribute.html"},"TextArea"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#udonsynced"},"UdonSynced"),"(original)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#defaultexecutionorder"},"DefaultExecutionOrder"),"(original)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#udonbehavioursyncmode"},"UdonBehaviourSyncMode"),"(original)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#recursivemethod"},"RecursiveMethod"),"(original)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#fieldchangecallback"},"FieldChangeCallback"),"(original)"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h2",{id:"udonsynced"},"UdonSynced"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"[UdonSynced]")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"[UdonSynced(UdonSyncMode)]")),(0,r.kt)("p",null,"*\u540c\u671f\u53ef\u80fd\u306a\u5909\u6570\u306e\u4e00\u89a7\u306f",(0,r.kt)("a",{parentName:"p",href:"/worlds/udon/udonsharp/documentation/vrchat-api#synced-variables"},"Synced Variables"),"\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002"),(0,r.kt)("h3",{id:"\u4f8b"},"\u4f8b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public class Example : UdonSharpBehaviour \n{\n    [UdonSynced]\n    public bool synchronizedBoolean;\n\n    [UdonSynced(UdonSyncMode.Linear)]\n    // This float will be linearly interpolated\n    // \u3053\u306efloat\u306f\u7dda\u5f62\u88dc\u9593\u3055\u308c\u307e\u3059\n    public float synchronizedFloat;\n}\n")),(0,r.kt)("h3",{id:"udonsyncmode"},"UdonSyncMode"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"UdonSharp.UdonSyncMode")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"\xa0\u6982\u8981"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NotSynced"),(0,r.kt)("td",{parentName:"tr",align:null},"\xa0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"None"),(0,r.kt)("td",{parentName:"tr",align:null},"\u88dc\u9593\u306a\u3057 (\u30c7\u30d5\u30a9\u30eb\u30c8)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Linear"),(0,r.kt)("td",{parentName:"tr",align:null},"Lerp(\u7dda\u5f62\u88dc\u9593)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Smooth"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"\u826f\u3044\u611f\u3058\u306b\u30b9\u30e0\u30fc\u30ba\u306a\u540c\u671f"))))),(0,r.kt)("h2",{id:"udonbehavioursyncmode"},"UdonBehaviourSyncMode"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"[UdonBehaviourSyncMode]")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"[UdonBehaviourSyncMode(BehaviourSyncMode)]")),(0,r.kt)("p",null,"\u6307\u5b9a\u3055\u308c\u305f\u540c\u671f\u30e2\u30fc\u30c9\u3092\u5f37\u5236\u3057\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u540c\u671f\u5909\u6570\u306b\u5bfe\u3057\u3066\u8ffd\u52a0\u306e\u691c\u8a3c\u3092\u884c\u3044\u307e\u3059\u3002"),(0,r.kt)("h3",{id:"\u4f8b-1"},"\u4f8b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"[UdonBehaviourSyncMode(BehaviourSyncMode.Manual)]\npublic class Example : UdonSharpBehaviour \n{ \n}\n")),(0,r.kt)("h3",{id:"behavioursyncmode"},"BehaviourSyncMode"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"UdonSharp.BehaviourSyncMode")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"\u6982\u8981"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Any"),(0,r.kt)("td",{parentName:"tr",align:null},"\u30e2\u30fc\u30c9\u3092\u5f37\u5236\u305b\u305a\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u540c\u671f\u30e2\u30fc\u30c9\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5c5e\u6027\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3059\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"None"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5909\u6570\u540c\u671f\u3092\u884c\u308f\u306a\u3044\u3053\u3068\u3092\u5f37\u5236\u3057\u3001UI\u4e0a\u306e\u540c\u671f\u30e2\u30fc\u30c9\u3092\u9078\u3076\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002\u4f55\u3082\u540c\u671f\u3055\u308c\u305a\u3001SendCustomNetworkEvent\u306f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Continuous"),(0,r.kt)("td",{parentName:"tr",align:null},"\u540c\u671f\u5909\u6570\u306f\u81ea\u52d5\u7684\u306b\u3001\u975e\u5e38\u306b\u9ad8\u3044\u983b\u5ea6\u3067\u66f4\u65b0\u3055\u308c\u307e\u3059\u304c\u3001\u5e2f\u57df\u5e45\u306e\u5236\u9650\u306e\u305f\u3081\u5e38\u306b\u78ba\u5b9f\u306b\u66f4\u65b0\u3055\u308c\u308b\u3068\u306f\u9650\u308a\u307e\u305b\u3093\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Manual"),(0,r.kt)("td",{parentName:"tr",align:null},"\u540c\u671f\u5909\u6570\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u624b\u52d5\u3067\u66f4\u65b0\u3057\u307e\u3059\u3002\u540c\u671f\u983b\u5ea6\u306f\u4f4e\u3044\u3067\u3059\u304c\u3001\u66f4\u65b0\u3092\u8981\u6c42\u3057\u305f\u5834\u5408\u306f\u78ba\u5b9f\u306b\u884c\u308f\u308c\u307e\u3059\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NoVariableSync"),(0,r.kt)("td",{parentName:"tr",align:null},"behaviour\u5185\u306b\u540c\u671f\u5909\u6570\u304c\u306a\u3044\u3053\u3068\u3092\u5f37\u5236\u3057\u3001\u540c\u671f\u30e2\u30fc\u30c9\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002Manual\u540c\u671f\u304bContinuous\u540c\u671f\u3092\u4f7f\u7528\u3059\u308bGameObjects\u306ebehaviour\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002")))),(0,r.kt)("h2",{id:"defaultexecutionorder"},"DefaultExecutionOrder"),(0,r.kt)("p",null,"Specifies the order that Update, LateUpdate, and FixedUpdate happen in relative to other UdonSharpBehaviours with an int. All behaviours are at 0 by default, the lower the int, the earlier their update happens. The int can be negative."),(0,r.kt)("h3",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"[DefaultExecutionOrder(0)]\npublic class Example : UdonSharpBehaviour \n{ \n}\n")),(0,r.kt)("h2",{id:"recursivemethod"},"RecursiveMethod"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"[RecursiveMethod]")),(0,r.kt)("p",null,"Marks a method as callable recursively. This means the marked method can safely call itself on the same behaviour without issues. This does have a performance overhead, so only use it on methods that you know may be called recursively."),(0,r.kt)("h3",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"[RecursiveMethod]\nint Factorial(int input)\n{\n    if (input == 1)\n        return 1;\n\n    return input * Factorial(input - 1);\n}\n")),(0,r.kt)("h2",{id:"fieldchangecallback"},"FieldChangeCallback"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"[FieldChangeCallback(string)]")),(0,r.kt)("p",null,"This is an attribute that you may put on a field in order to receive Udon variable change events. This attribute takes a string parameter that points to a property name on the behaviour. When this attribute is set on a field, any modification to the field via network sync or SetProgramVariable will call the target property's setter instead of setting the field. The property is usually expected to set the field in this case."),(0,r.kt)("h3",{id:"example-2"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},'using UdonSharp;\nusing UnityEngine;\nusing VRC.SDKBase;\nusing VRC.Udon;\n\n[UdonBehaviourSyncMode(BehaviourSyncMode.Manual)]\npublic class ExampleOfFieldChangeCallback: UdonSharpBehaviour\n{\n    public GameObject toggleObject;\n\n    [UdonSynced, FieldChangeCallback(nameof(SyncedToggle))]\n    private bool _syncedToggle;\n\n    public bool SyncedToggle\n    {\n        set\n        {\n            Debug.Log("toggling the object...");\n            _syncedToggle = value;\n            toggleObject.SetActive(value);\n        }\n        get => _syncedToggle;\n    }\n\n    public override void Interact()\n    {\n        Networking.SetOwner(Networking.LocalPlayer, gameObject);\n        SyncedToggle = !SyncedToggle;\n        RequestSerialization();\n    }\n}\n')),(0,r.kt)("p",null,"Note that in the above example, the Interact performs ",(0,r.kt)("inlineCode",{parentName:"p"},"SyncedToggle = !SyncedToggle;")," rather than ",(0,r.kt)("inlineCode",{parentName:"p"},"_syncedToggle = !_syncedToggle"),". The latter won't work (this would not actually trigger the FieldChangeCallback). FieldChangeCallback only will cause SyncedToggle's setter to fire when either SetProgramVariable or a network sync updates the value of syncedToggle. It will not fire when the variable is set directly from inside the same UdonBehaviour. The property should always be used directly. UdonSharp will deliberately fail to compile if you attempt to set ",(0,r.kt)("inlineCode",{parentName:"p"},"_syncedToggle")," from outside the UdonBehaviour. In this case, the property should be used or SetProgramVariable should be used explicitly."))}s.isMDXComponent=!0}}]);